<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Library Management System</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  </head>
  <body>
    <div class="container">
      <header class="header">
        <div class="header-content">
          <h1><i class="fas fa-book"></i> Library Management System</h1>
          <p>Comprehensive Library Management with Real-time Analytics</p>
        </div>
      </header>

      <nav class="navigation">
        <button class="nav-btn active" data-section="dashboard">
          <i class="fas fa-chart-line"></i> Dashboard
        </button>
        <button class="nav-btn" data-section="books">
          <i class="fas fa-book"></i> Books
        </button>
        <button class="nav-btn" data-section="members">
          <i class="fas fa-users"></i> Members
        </button>
        <button class="nav-btn" data-section="loans">
          <i class="fas fa-handshake"></i> Loans
        </button>
        <button class="nav-btn" data-section="reports">
          <i class="fas fa-file-alt"></i> Reports
        </button>
        <button class="nav-btn" data-section="manage">
          <i class="fas fa-cog"></i> Manage Data
        </button>
      </nav>

      <!-- Dashboard Section -->
      <section id="dashboard" class="section active">
        <div class="dashboard-grid">
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fas fa-book"></i>
            </div>
            <div class="stat-info">
              <h3 id="totalBooks">0</h3>
              <p>Total Books</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fas fa-users"></i>
            </div>
            <div class="stat-info">
              <h3 id="totalMembers">0</h3>
              <p>Total Members</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fas fa-handshake"></i>
            </div>
            <div class="stat-info">
              <h3 id="activeLoans">0</h3>
              <p>Active Loans</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fas fa-exclamation-triangle"></i>
            </div>
            <div class="stat-info">
              <h3 id="pendingFines">$0</h3>
              <p>Pending Fines</p>
            </div>
          </div>
        </div>

        <!-- Charts Section -->
        <div class="charts-section">
          <div class="chart-container">
            <div class="chart-card">
              <h3><i class="fas fa-chart-pie"></i> Books by Genre</h3>
              <div id="genreChart"></div>
            </div>
          </div>
          <div class="chart-container">
            <div class="chart-card">
              <h3><i class="fas fa-chart-doughnut"></i> Books by Status</h3>
              <div id="statusChart"></div>
            </div>
          </div>
          <div class="chart-container chart-container-wide">
            <div class="chart-card">
              <h3><i class="fas fa-chart-bar"></i> Monthly Loan Activity</h3>
              <div id="monthlyLoansChart"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Books Section -->
      <section id="books" class="section">
        <div class="section-header">
          <h2><i class="fas fa-book"></i> Books Management</h2>
          <button class="btn btn-primary" data-action="add" data-type="book">
            <i class="fas fa-plus"></i> Add New Book
          </button>
        </div>
        <div class="table-container">
          <table id="booksTable">
            <thead>
              <tr>
                <th>ID</th>
                <th>Title</th>
                <th>Author</th>
                <th>Genre</th>
                <th>ISBN</th>
                <th>Year</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>

      <!-- Members Section -->
      <section id="members" class="section">
        <div class="section-header">
          <h2><i class="fas fa-users"></i> Members Management</h2>
          <button class="btn btn-primary" data-action="add" data-type="member">
            <i class="fas fa-plus"></i> Add New Member
          </button>
        </div>
        <div class="table-container">
          <table id="membersTable">
            <thead>
              <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Join Date</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>

      <!-- Loans Section -->
      <section id="loans" class="section">
        <div class="section-header">
          <h2><i class="fas fa-handshake"></i> Loans Management</h2>
          <button class="btn btn-primary" data-action="add" data-type="loan">
            <i class="fas fa-plus"></i> Issue New Loan
          </button>
        </div>
        <div class="table-container">
          <table id="loansTable">
            <thead>
              <tr>
                <th>ID</th>
                <th>Book</th>
                <th>Member</th>
                <th>Issue Date</th>
                <th>Return Date</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>

      <!-- Reports Section -->
      <section id="reports" class="section">
        <div class="section-header">
          <h2><i class="fas fa-file-alt"></i> Reports</h2>
        </div>
        <div class="reports-grid">
          <div class="report-card">
            <h3>Overdue Books Report</h3>
            <p>View all books that are overdue for return</p>
            <button
              class="btn btn-secondary"
              data-action="report"
              data-type="overdue"
            >
              <i class="fas fa-download"></i> Generate Report
            </button>
          </div>
          <div class="report-card">
            <h3>Popular Books Report</h3>
            <p>Most borrowed books in the library</p>
            <button
              class="btn btn-secondary"
              data-action="report"
              data-type="popular"
            >
              <i class="fas fa-star"></i> View Popular Books
            </button>
          </div>
        </div>
        <div class="report-results" id="reportResults"></div>
      </section>

      <!-- Manage Data Section -->
      <section id="manage" class="section">
        <div class="section-header">
          <h2><i class="fas fa-cog"></i> Manage Library Data</h2>
        </div>
        <div class="manage-grid">
          <div class="manage-card" data-action="manage" data-table="genres">
            <i class="fas fa-tags"></i>
            <h3>Genres</h3>
            <p>Manage book genres</p>
          </div>
          <div class="manage-card" data-action="manage" data-table="authors">
            <i class="fas fa-user-edit"></i>
            <h3>Authors</h3>
            <p>Manage authors</p>
          </div>
          <div class="manage-card" data-action="manage" data-table="publishers">
            <i class="fas fa-building"></i>
            <h3>Publishers</h3>
            <p>Manage publishers</p>
          </div>
          <div class="manage-card" data-action="manage" data-table="categories">
            <i class="fas fa-list"></i>
            <h3>Categories</h3>
            <p>Manage categories</p>
          </div>
          <div class="manage-card" data-action="manage" data-table="fines">
            <i class="fas fa-money-bill"></i>
            <h3>Fines</h3>
            <p>Manage member fines</p>
          </div>
          <div
            class="manage-card"
            data-action="manage"
            data-table="reservations"
          >
            <i class="fas fa-bookmark"></i>
            <h3>Reservations</h3>
            <p>Manage book reservations</p>
          </div>
          <div
            class="manage-card"
            data-action="manage"
            data-table="librarystaff"
          >
            <i class="fas fa-id-badge"></i>
            <h3>Library Staff</h3>
            <p>Manage staff members</p>
          </div>
        </div>
        <div id="manageTableContainer"></div>
      </section>
    </div>

    <!-- Modal for Add Forms -->
    <div id="addModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="modalTitle">Add New Item</h3>
          <span class="close" data-action="close">&times;</span>
        </div>
        <div class="modal-body">
          <form id="addForm">
            <div id="formFields"></div>
            <div class="form-actions">
              <button
                type="button"
                class="btn btn-secondary"
                data-action="close"
              >
                Cancel
              </button>
              <button type="submit" class="btn btn-primary">Save</button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <script defer src="script.js"></script>
  </body>
</html>
